---
title: js 中 number
date: 2022-05-25 23:20
tags: basic
---

# 数值

### 二进制如何表示正数、负数、小数?

+ 带符号的一般第一位是符号位，1表示负数，0表示正数
+ 反码: 二进制全部取反，0变1，1变0
+ 补码： 反码+1
+ 负数： 其正数的补码


```
// 理论上是64位表示，为了方便用32位表示整数
00000000 0000000 0000000 00000100  4
11111111 1111111 1111111 11111011  4的反码
11111111 1111111 1111111 11111100  4的补码，也就是-4
```

### 那么小数呢？

64位中
+ 第一位符号位
+ 后面11位指数位
+ 最后52位小数位

```
// 5.6
0 00000000110 . 1001 1001 1001 1001 ...
how?
0.6 * 2 = 1.2 > 1               1
1.2 - 1 = 0.2 * 2 = 0.4 < 1     0
0.4 * 2 = 0.8 < 1               0
0.8 *2 = 1.6 > 1                1
// 之后就是循环

```

<!-- 有个问题 0.1 表示 是 `0001100011....` 
0.2 表示 是  `00110011...` 
为什么 0.1+0.1 = 0.2 ？
0.1+0.2 = 0.300000000000004 -->

js 小数精度17位，

```
s = 0.2000 0000 0000 000 01
s=0.2

s = 0.2000 0000 0000 0000 9
0.2000000000000001

s = 0.2000 0000 0000 0000 5
0.20000000000000004
```


